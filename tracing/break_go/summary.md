After all this research, I've decided that xgo's compile time + runtime instrumentation is still the best.
- it does not require special debugging info.
- it does not halt whole the program while executing mocks.